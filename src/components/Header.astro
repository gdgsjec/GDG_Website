---
import GDG_LOGO from "../assets/GDG_LOGO.png";
import ThemeToggle from "./ui/ThemeToggle.astro";
---

<header class="fixed top-0 left-0 w-full z-50 dark:bg-black transition-all duration-500">
  <div
    id="navbar"
    class="w-full flex items-center h-17 px-4 text-black dark:text-white transition-all duration-500"
  >
    <div
      class="flex items-center h-20 max-w-[1240px] w-full mx-auto px-4 text-black dark:text-white"
    >
      <img
        src={GDG_LOGO.src}
        alt="GDG Logo"
        class="rounded-xl w-14 h-10 p-2 mr-2 bg-black dark:bg-white"
      />
      <span class="font-bold text-xl">GDG</span>

      <ul
        class="hidden md:flex mx-auto space-x-4"
        style="font-family: Roboto Condensed, sans-serif;"
      >
        <li
          class="p-4 relative group cursor-pointer text-black dark:text-white hover:text-[#3e5a51] dark:hover:text-[#00df9a] transition-colors duration-400"
        >
          START
          <span
            class="absolute left-0 bottom-0 w-0 h-[2px] bg-[#00df9a] transition-all duration-500 group-hover:w-full"
          ></span>
        </li>
        <li
          class="p-4 relative group cursor-pointer text-black dark:text-white hover:text-[#3e5a51] dark:hover:text-[#00df9a] transition-colors duration-400"
        >
          ABOUT
          <span
            class="absolute left-0 bottom-0 w-0 h-[2px] bg-[#00df9a] transition-all duration-500 group-hover:w-full"
          ></span>
        </li>
        <li
          class="p-4 relative group cursor-pointer text-black dark:text-white hover:text-[#3e5a51] dark:hover:text-[#00df9a] transition-colors duration-400"
        >
          RESOURCES
          <span
            class="absolute left-0 bottom-0 w-0 h-[2px] bg-[#00df9a] transition-all duration-700 group-hover:w-full"
          ></span>
        </li>
        <li
          class="p-4 relative group cursor-pointer text-black dark:text-white hover:text-[#3e5a51] dark:hover:text-[#00df9a] transition-colors duration-400"
        >
          BLOG
          <span
            class="absolute left-0 bottom-0 w-0 h-[2px] bg-[#00df9a] transition-all duration-500 group-hover:w-full"
          ></span>
        </li>
        <li
          class="p-4 relative group cursor-pointer text-black dark:text-white hover:text-[#1C352D] dark:hover:text-[#00df9a] transition-colors duration-400"
        >
          CONTACT
          <span
            class="absolute left-0 bottom-0 w-0 h-[2px] bg-[#00df9a] transition-all duration-600 group-hover:w-full"
          ></span>
        </li>
      </ul>

      <div class="hidden md:flex items-center mr-4">
        <ThemeToggle />
      </div>

      <button
        id="menu-btn"
        class="md:hidden z-[60] ml-auto text-black dark:text-white"
      >
        <svg
          id="hamburger"
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
        <svg
          id="close"
          class="hidden w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
  </div>

  <nav
    id="mobile-menu"
    class="fixed left-[-100%] top-0 w-[60%] h-full bg-white/30 dark:bg-gray-900/30 backdrop-blur-md shadow-lg z-50 font-sans text-black dark:text-white transition-all duration-500 md:hidden"
  >
    <div class="flex items-center justify-between m-4">
      <img
        src={GDG_LOGO.src}
        alt="GDG Logo"
        class="rounded-xl w-14 h-10 p-2 ml-2 bg-black dark:bg-white"
      />
      <div class="z-[70]">
        <ThemeToggle />
      </div>
    </div>
    <ul class="p-4" style="font-family: Roboto Condensed, sans-serif;">
      <li class="p-4 relative border-b border-[#DCC5B2] dark:border-gray-600">
        START
      </li>
      <li class="p-4 relative border-b border-[#DCC5B2] dark:border-gray-600">
        ABOUT
      </li>
      <li class="p-4 relative border-b border-[#DCC5B2] dark:border-gray-600">
        RESOURCES
      </li>
      <li class="p-4 relative border-b border-[#DCC5B2] dark:border-gray-600">
        BLOG
      </li>
      <li class="p-4 relative border-b border-[#DCC5B2] dark:border-gray-600">
        CONTACT
      </li>
    </ul>
  </nav>
</header>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("menu-btn");
    const mobileMenu = document.getElementById("mobile-menu");
    const hamburger = document.getElementById("hamburger");
    const close = document.getElementById("close");
    const navbar = document.getElementById("navbar");

    if (btn) {
      btn.addEventListener("click", () => {
        mobileMenu.classList.toggle("left-0");
        mobileMenu.classList.toggle("left-[-100%]");
        hamburger.classList.toggle("hidden");
        close.classList.toggle("hidden");
      });
    }

    window.addEventListener("scroll", () => {
      if (window.scrollY > 20) {
        navbar.classList.add(
          "backdrop-blur-md",
          "bg-white/30",
          "dark:bg-gray-900/30",
          "shadow-lg"
        );
      } else {
        navbar.classList.remove(
          "backdrop-blur-md",
          "bg-white/30",
          "dark:bg-gray-900/30",
          "shadow-lg"
        );
      }
    });
  });
</script>
