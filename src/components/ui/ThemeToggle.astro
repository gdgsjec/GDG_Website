<button
  class="theme-toggle-btn relative w-14 h-7 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center px-1 transition-all duration-300"
  aria-label="Toggle theme"
>
 
  <span
    class="slider absolute w-5 h-5 bg-white dark:bg-black rounded-full shadow-md transition-all duration-300"
  ></span>

  <span class="absolute left-2 text-black dark:text-gray-400 pointer-events-none">☀</span>
  <span class="absolute right-2 text-black dark:text-white pointer-events-none">☾</span>
</button>

<script is:inline>
document.addEventListener("DOMContentLoaded", () => {
  const btn = document.querySelector(".theme-toggle-btn");
  const slider = btn.querySelector(".slider");

  const btnWidth = btn.offsetWidth;
  const sliderWidth = slider.offsetWidth;
  const padding = 4; 
  const maxTranslate = btnWidth - sliderWidth - 2 * padding;


  function setTheme(isDark) { 
    
  
    if (isDark) document.documentElement.classList.add("dark");
    else document.documentElement.classList.remove("dark");
    
  
    localStorage.setItem("theme", isDark ? "dark" : "light");
  }


  setTheme(false);


  btn.addEventListener("click", () => {
    const isDark = !document.documentElement.classList.contains("dark");
    slider.style.transform = isDark ? `translateX(${maxTranslate}px)` : "translateX(0)";
  });
});
</script>

<style>
.theme-toggle-btn {
  cursor: pointer;
}

.slider {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}
</style>
