---
import EventsData from "../content/EventsData.json";
import 'glider-js/glider.min.css' ; 

interface EventDataType {
  id: number ;
  title: string ;
  date: string ;
  location : string ;
  image : string ;
  description : string ;
  link : string ; 
}
const events = EventsData as EventDataType[];
---
<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;500&display=swap" rel="stylesheet">

  <!-- Glider.js CSS  in head-->
  <link rel="stylesheet" href="/node_modules/glider-js/docs/assets/js/glider.min.js">
  <style>
    body{
      font-family:'Inter' , sans-serif;
    }
    .font-jetbrains-mono {
      font-family: 'JetBrains Mono', monospace;
    }
    /*glider customization */
    .glider-contain {
      width: 100%;
    }
    .glider-track{
      align-items: stretch;
    }
    .glider-slide{
      display: flex;
      justify-content: center;
      align-items: stretch;
      min-height: 400px;
    }
    /* custom arrow styles */
    .glider-prev , .glider-next {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(59,130,246,0.9);
      color: white;
      border: none;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 10;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }
    .glider-prev:hover , .glider-next:hover {
      background: rgb(37,99,235);
      transform: translateY(-50%) scale(1.1);
    }
    .glider-prev{
      left: -20px;
    }
    .glider-next{
      right: -20px;
    }
    .glider-prev:disabled , .glider-next:disabled{
      opacity: 0.3;
      cursor: not-allowed;
    }
    /* CUSTOM-DOTS */
    .glider-dots{
      margin-top: 30px;
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    .glider-dot{
      width: 12px;
      height: 12px;
      background: #cbd5e1;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .glider-dot:hover{
      background: #94a3b8;
    }
    .glider-dot.active{
      background: #3b82f6;
      transform: scale(1.3);
    }
    /*event card styles*/
    .event-card{
      background: white;
      border-radius: 10px;
      overflow: hidden;
      
      transition : border-radius 0.3s ease ,transform all 0.3s ease;
      display: flex;
      width: 100%;
      height: 100%;
      padding : 12px;
      gap: 40px;
    }
    .event-card:hover{
      transform: scale(1.03);
      border-radius:25px ;
    }

    .event-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }
    .event-content{
      padding: 20px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }
    .event-date{
      display: inline-block;
      background: #dbeafe;
      color: #1e40af;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 12px;
      width: fit-content;
    }
    .event-title{
      font-size:22px;
      font-weight: 700;
      color: #1f2937;
      margin-bottom: 8px;
    }
    .event-location{
      color: #6b7280;
      font-size: 14px;
      margin-bottom: 12px;
      display : flex ;
      align-items: center;
      gap: 6px;
    }
    .event-description{
      color: #4b5563;
      font-size: 14px;
      line-height: 1.6;
      flex-grow: 1;
      margin-bottom: 16px;
    }
    .event-link{
      display: inline-block;
      color: #3b82f6;
      font-weight: 600;
      text-decoration: none;
      transition: color 0.2s;
      font-size: 14px;
    }
    .event-link:hover{
      color: #1e440f;
    }
    /* RESPONSIVE ADJUSTMENTS */
    @media (max-width : 768px){
      .glider-prev {
        left: -10px;
      }
      .glider-next {
        right: -10px;
      }
    } 
    /* dark mode support */
    @meda (prefers-color-scheme : dark){
      .event-card{
        background: #1f2937;
      }
      .event-title{
        color: #f3f4f6;
      }
      .event-description{
        color : #d1d5db;
      }
      .event-location{
        color: #9ca3af;
      }
    }
    </style>
    </head>
    <!---heading of event section-->
    <section class="bg-gray-50 dark:bg-gray-900 py-16">
      <div class =" container mx-auto px-4">
        <header class="text-center mb-12">
          <h1 class="font-jetbrains-mono text-6xl md: text:text-5xl font-bold text-gray-800 dark:text-gray-100">
            EVENTS
          </h1>
          <p class=" font-jetbrains-mono text-gray-500 dark:text-gray-400 mt-3 text-sm">// UpComing Events and MeetUps</p>
        </header>
        <div class="max-w-6xl mx-auto reative">
          <div class="glider-contain">
            <div class="glider">
              {events.map((event) => (
                <div class="glider-slide">
                  <div class="event-card">
                    <img src = {event.image} alt={event.title} class="event-image" loading = "lazy"/>
                    <div class="event-content">
                      <span class="event-date font-jetbrains-mono">{event.date}</span>
                      <h3 class="event-title">{event.title}</h3>
                      <p class="event-location">
                        <svg width="16" height="16" fill ="currentColor" viewBox = "0 0 16 16"></svg>
                        {   }
                      </p>
                      <p class="event-description">{event.description}</p>
                      <a href={event.link} class="event-link font-jetbrains-mono">
                        Learn more &rarr;
                      </a>
                    </div>
                  </div>
                </div>
              ))}
            </div>
            <button aria-label="Previous" class="glider-prev" > &lt;</button>
            <button arial-label="Next" class ="glider-next"> &gt; </button>
            <div class="tablist" class= "glider-dots"> </div>
          </div>
        </div>
      </div>
    </section>

<!-- Glider.js Script -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/glider-js/1.7.8/glider.min.js"></script>

<script>
import Glider from "glider-js";



  document.addEventListener('DOMContentLoaded', function() {
    const gliderElement = document.querySelector('.glider') as HTMLElement;

    if (gliderElement) {
      new Glider(gliderElement, {
            slidesToShow : 1,
            slidesToScroll : 1,
            draggable :true,
            dots: '.glider-dots',
            arrows: {
              prev: '.glider-prev',
              next : '.glider-next',
            },
      responsive :[
        {
          breakpoint : 768, 
          settings : {
            slidesToShow : 2,
            slidesToScroll : 1,
          } 
        },
        {
        breakpoint : 1024 , 
        settings : {
          slidesToShow : 3,
          slidesToScroll : 1,
        }
      }
    ]
  });
}
});
</script>